---
layout: ~/layouts/PageLayout.astro
title: Products and Services
---

import ListingPage from "~/components/ListingPage.astro";
import _ from "lodash";
import products from "~/products.json";

export const priceFormatter = new Intl.NumberFormat('en-GB', {
  currency: 'GBP',
  maximumSignificantDigits: 2,
  style: 'currency',
});

<div class="space-y-12">
  {products.map((product) => (
    <article>
      <h3>
        {product.title} - <> </>
        {product.price
          ? (
              <>
              {product.isFrom && (<>from </>)}
              {priceFormatter.format(product.price)}
              {product.perMonth && (<> per month</>)}
              </>
            )
          : 'free!'
        }
      </h3>

      <div>
        <p>
          {product.description}
          {product.isLimited && (<> <strong>Limited places available!</strong></>)}
        </p>
      </div>

      <footer>
        <a href={product.link.href}>{product.link.text} &rarr;</a>
      </footer>
    </article>
  ))}
</div>
