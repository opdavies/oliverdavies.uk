{% macro canonicalUrl(site, page) -%}
    {{ site.url }}
    {{- page.url != '//' ? page.url }}
{%- endmacro %}

{% import _self as helpers %}

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="alternate" type="application/rss+xml" title="{{ site.title }} RSS" href="{{ site.url }}/feed">
<link rel="canonical" href="{{ helpers.canonicalUrl(site, page) }}">

{% if page.meta.description %}
    <meta name="description" content="{{ page.meta.description|e('html') }}">
{% else %}
    <meta name="description" content="Oliver Davies is a UK-based Web Developer and System Administrator. He is a {{ site.work.role }} at {{ site.companies[site.work.company].name }} and a part-time freelancer, specialising in Drupal and PHP.">
{% endif %}

{% include 'og' with { og: page.meta.og } %}
